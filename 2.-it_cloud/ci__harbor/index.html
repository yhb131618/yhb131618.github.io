<!DOCTYPE html>
<html lang="ko-KR" dir="ltr">
<head>
  <meta property="og:title" content="" />
<meta property="og:description" content="Harbor # Docker Image Registry 01__ Outline # Harbor와 관련된 주요 기능은 다음과 같습니다.
Helm 차트 관리: 프로젝트별로 격리되고 RBAC에 의해 제어되는 Helm 차트를 관리하는 데 도움이 됩니다. LDAP 그룹별 역할 관리: 관리자는 LDAP/AD 그룹을 Harbor로 가져와 프로젝트 역할을 할당할 수 있습니다. 프로젝트 복제: 이미지 복제를 지원합니다. 하나의 Harbor 인스턴스에서 다른 Harbor 인스턴스로 저장소를 복제할 수 있습니다. 역할 기반 액세스 제어: 사용자와 저장소는 프로젝트로 구성됩니다. 사용자는 다양한 프로젝트의 이미지에 대해 다양한 권한을 가질 수 있습니다." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://yhb131618.github.io/2.-it_cloud/ci__harbor/" /><meta property="article:section" content="2.-it_cloud" />

<meta property="og:site_name" content="Git Bolg" />
<title>Ci Harbor | Git Bolg</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.45ec1f6261e17c6488824ac77b6b8a0c11eef38eaed587cfecad4b284f57ee79.css" integrity="sha256-RewfYmHhfGSIgkrHe2uKDBHu846u1YfP7K1LKE9X7nk=" crossorigin="anonymous">

<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
  



<meta charset="UTF-8" />
<meta
  name="description"
  content="Harbor # Docker Image Registry 01__ Outline # Harbor와 관련된 주요 기능은 다음과 같습니다.
Helm 차트 관리: 프로젝트별로 격리되고 RBAC에 의해 제어되는 Helm 차트를 관리하는 데 도움이 됩니다. LDAP 그룹별 역할 관리: 관리자는 LDAP/AD 그룹을 Harbor로 가져와 프로젝트 역할을 할당할 수 있습니다. 프로젝트 복제: 이미지 복제를 지원합니다. 하나의 Harbor 인스턴스에서 다른 Harbor 인스턴스로 저장소를 복제할 수 있습니다. 역할 기반 액세스 제어: 사용자와 저장소는 프로젝트로 구성됩니다. 사용자는 다양한 프로젝트의 이미지에 대해 다양한 권한을 가질 수 있습니다."
/>
<title>
  Git Bolg
</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />






<link rel="shortcut icon" type="image/png"  href="https://yhb131618.github.io//favicon.png" />

























  
  


<link href="https://yhb131618.github.io/styles.e08ceb33360cec132feb69cfb982e2a4.min.css" rel="stylesheet" />


<link href="https://yhb131618.github.io/quartz/styles/_light_syntax.86a48a52faebeaaf42158b72922b1c90.min.css" rel="stylesheet" id="theme-link">

  

<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css" as="style"
      onload="this.onload=null;this.rel='stylesheet'"
      integrity="sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"
        integrity="sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx"
        crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js"
        integrity="sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR"
        crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/contrib/copy-tex.min.js"
        integrity="sha384-ww/583aHhxWkz5DEVn6OKtNiIaLi2iBRNZXfJRiY1Ai7tnJ9UXpEsyvOITVpTl4A"
        crossorigin="anonymous"></script>

  






<script src="https://yhb131618.github.io/quartz/js/darkmode.042058fbc2e215acaed9e31a77e7fede.min.js"></script>



<script src="https://yhb131618.github.io/quartz/js/util.c69e233dc1cc331a30b0f670e657b425.min.js"></script>



<script async src="https://unpkg.com/@floating-ui/core@0.7.3"></script>
<script async src="https://unpkg.com/@floating-ui/dom@0.5.4"></script>

<script src="https://yhb131618.github.io/quartz/js/popover.f03552ccb84d99ca615d1cfb9abde59e.min.js"></script>




<script defer src="https://yhb131618.github.io/quartz/js/code-title.ce4a43f09239a9efb48fee342e8ef2df.min.js"></script>




<script defer src="https://yhb131618.github.io/quartz/js/clipboard.2913da76d3cb21c5deaa4bae7da38c9f.min.js"></script>




<script defer src="https://yhb131618.github.io/quartz/js/callouts.7723cac461d613d118ee8bb8216b9838.min.js"></script>



 
<script>
  const SEARCH_ENABLED =  false 
  const LATEX_ENABLED =  true 
  const PRODUCTION =  true 
  const BASE_URL = "https://yhb131618.github.io/"
  const fetchData = Promise.all([
        fetch("https:\/\/yhb131618.github.io\/indices\/linkIndex.f6425e3c9c5a78cb1a57d6271bd0c88d.min.json")
          .then(data => data.json())
          .then(data => ({
            index: data.index,
            links: data.links,
          })),
        fetch("https:\/\/yhb131618.github.io\/indices\/contentIndex.56753ef950db2332e50166167e5b613e.min.json")
          .then(data => data.json()),
      ])
      .then(([{index, links}, content]) => ({
        index,
        links,
        content,
      }))

    const render = () => {
    
    const siteBaseURL = new URL(BASE_URL);
    const pathBase = siteBaseURL.pathname;
    const pathWindow = window.location.pathname;
    const isHome = pathBase == pathWindow;

    addCopyButtons();
    

    

    addCollapsibleCallouts();
    

    
    initPopover(
      "https://yhb131618.github.io",
       true 
    )
    

    
    const footer = document.getElementById("footer")
    if (footer) {
      const container = document.getElementById("graph-container")
      
      if (!container) return requestAnimationFrame(render)
      
      container.textContent = ""

      const drawGlobal = isHome &&  true ;
      drawGraph(
          "https://yhb131618.github.io",
          drawGlobal,
          [{"/moc":"#4388cc"}],
          drawGlobal ? {"centerForce":1,"depth":-1,"enableDrag":true,"enableLegend":false,"enableZoom":true,"fontSize":0.5,"linkDistance":1,"opacityScale":3,"repelForce":1,"scale":1.4} : {"centerForce":1,"depth":1,"enableDrag":true,"enableLegend":false,"enableZoom":true,"fontSize":0.6,"linkDistance":1,"opacityScale":3,"repelForce":2,"scale":1.2}
        );

      }
    

    
      var els = document.getElementsByClassName("mermaid");
      if (els.length > 0) {
        import('https://unpkg.com/mermaid@9/dist/mermaid.esm.min.mjs').then(
          (obj) => {
            
            
            obj.default.init();
          }
        )
      }
    
  }

  const init = (doc = document) => {
    
    addCopyButtons();
    

    addTitleToCodeBlocks();
    renderMathInElement(doc.body, {
      delimiters: [
        {left: '$$', right: '$$', display: true},
        {left: '$', right: '$', display: false},
      ],
      macros: {
        '’': "'"
      },
      throwOnError : false
    });
    
  };
</script>

<script>
  window.Million = {
    navigate: (url) => (window.location.href = url),
    prefetch: () => {},
  }

  window.addEventListener("DOMContentLoaded", () => {
    init()
    render()
  })
</script>


</head>
<div id="search-container">
  <div id="search-space">
    <input autocomplete="off" id="search-bar" name="search" type="text" aria-label="Search"
      placeholder="Search for something..." dir="">
    <div id="results-container">
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/flexsearch@0.7.21/dist/flexsearch.bundle.js"
  integrity="sha256-i3A0NZGkhsKjVMzFxv3ksk0DZh3aXqu0l49Bbh0MdjE=" crossorigin="anonymous" defer></script>

<script defer src="https://yhb131618.github.io/quartz/js/full-text-search.e6e2e0c213187ca0c703d6e2c7a77fcd.min.js"></script>



<header class="book-header">
    
    <label for="menu-control">
      <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
    </label>
    <h1 id="page-title"><a href="https://yhb131618.github.io/">Git Bolg</a></h1>
    <div class="spacer"></div>
    <div id="search-icon" class="quartz-search">
      <p>Search</p>
      <svg tabindex="0" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title id="title">Search Icon</title><desc id="desc">Icon to open search</desc><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"/><circle cx="8" cy="8" r="7"/></g></svg>
    </div>
    <div class='darkmode'>
    <input class='toggle' id='darkmode-toggle' type='checkbox' tabindex="-1">
    <label id="toggle-label-light" for='darkmode-toggle' tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="dayIcon" x="0px" y="0px" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35;" xml:space="preserve">
            <title>Light Mode</title>
            <path d="M6,17.5C6,16.672,5.328,16,4.5,16h-3C0.672,16,0,16.672,0,17.5    S0.672,19,1.5,19h3C5.328,19,6,18.328,6,17.5z M7.5,26c-0.414,0-0.789,0.168-1.061,0.439l-2,2C4.168,28.711,4,29.086,4,29.5    C4,30.328,4.671,31,5.5,31c0.414,0,0.789-0.168,1.06-0.44l2-2C8.832,28.289,9,27.914,9,27.5C9,26.672,8.329,26,7.5,26z M17.5,6    C18.329,6,19,5.328,19,4.5v-3C19,0.672,18.329,0,17.5,0S16,0.672,16,1.5v3C16,5.328,16.671,6,17.5,6z M27.5,9    c0.414,0,0.789-0.168,1.06-0.439l2-2C30.832,6.289,31,5.914,31,5.5C31,4.672,30.329,4,29.5,4c-0.414,0-0.789,0.168-1.061,0.44    l-2,2C26.168,6.711,26,7.086,26,7.5C26,8.328,26.671,9,27.5,9z M6.439,8.561C6.711,8.832,7.086,9,7.5,9C8.328,9,9,8.328,9,7.5    c0-0.414-0.168-0.789-0.439-1.061l-2-2C6.289,4.168,5.914,4,5.5,4C4.672,4,4,4.672,4,5.5c0,0.414,0.168,0.789,0.439,1.06    L6.439,8.561z M33.5,16h-3c-0.828,0-1.5,0.672-1.5,1.5s0.672,1.5,1.5,1.5h3c0.828,0,1.5-0.672,1.5-1.5S34.328,16,33.5,16z     M28.561,26.439C28.289,26.168,27.914,26,27.5,26c-0.828,0-1.5,0.672-1.5,1.5c0,0.414,0.168,0.789,0.439,1.06l2,2    C28.711,30.832,29.086,31,29.5,31c0.828,0,1.5-0.672,1.5-1.5c0-0.414-0.168-0.789-0.439-1.061L28.561,26.439z M17.5,29    c-0.829,0-1.5,0.672-1.5,1.5v3c0,0.828,0.671,1.5,1.5,1.5s1.5-0.672,1.5-1.5v-3C19,29.672,18.329,29,17.5,29z M17.5,7    C11.71,7,7,11.71,7,17.5S11.71,28,17.5,28S28,23.29,28,17.5S23.29,7,17.5,7z M17.5,25c-4.136,0-7.5-3.364-7.5-7.5    c0-4.136,3.364-7.5,7.5-7.5c4.136,0,7.5,3.364,7.5,7.5C25,21.636,21.636,25,17.5,25z" />
        </svg>
    </label>
    <label id="toggle-label-dark" for='darkmode-toggle' tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="nightIcon" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background='new 0 0 100 100'" xml:space="preserve">
            <title>Dark Mode</title>
            <path d="M96.76,66.458c-0.853-0.852-2.15-1.064-3.23-0.534c-6.063,2.991-12.858,4.571-19.655,4.571  C62.022,70.495,50.88,65.88,42.5,57.5C29.043,44.043,25.658,23.536,34.076,6.47c0.532-1.08,0.318-2.379-0.534-3.23  c-0.851-0.852-2.15-1.064-3.23-0.534c-4.918,2.427-9.375,5.619-13.246,9.491c-9.447,9.447-14.65,22.008-14.65,35.369  c0,13.36,5.203,25.921,14.65,35.368s22.008,14.65,35.368,14.65c13.361,0,25.921-5.203,35.369-14.65  c3.872-3.871,7.064-8.328,9.491-13.246C97.826,68.608,97.611,67.309,96.76,66.458z" />
        </svg>
    </label>
</div>
</header>


<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <main class="flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<div class="menu-search">
  <div id="search-icon" class="quartz-search">
    <p>Search</p>
    <svg tabindex="0" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7">
      <title id="title">Search Icon</title>
      <desc id="desc">Icon to open search</desc>
      <g class="search-path" fill="none">
        <path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4" />
        <circle cx="8" cy="8" r="7" />
      </g>
    </svg>
  </div>
</div>













  



  
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-153dcb2edf2dfb6c49e014a45804f177" class="toggle"  />
    <label for="section-153dcb2edf2dfb6c49e014a45804f177" class="flex justify-between">
      <a role="button" class="book-collapse-toggle ">0. 아이디어</a>
    </label>
  

          
  <ul>
    
      
    
      
        <li>
          
  
  

  
    <a href="/0.-%EC%95%84%EC%9D%B4%EB%94%94%EC%96%B4/01_erp/" class="">01 Erp</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/0.-%EC%95%84%EC%9D%B4%EB%94%94%EC%96%B4/02_%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0%EC%99%80-ai/" class="">02 데이터센터와 Ai</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/0.-%EC%95%84%EC%9D%B4%EB%94%94%EC%96%B4/03_%EA%B5%AC%EB%8F%85%ED%98%95-%EC%97%AC%ED%96%89-%ED%8C%A8%ED%82%A4%EC%A7%80/" class="">03 구독형 여행 패키지</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/0.-%EC%95%84%EC%9D%B4%EB%94%94%EC%96%B4/04_%EB%B9%84%EC%A3%BC%EC%96%BC-%EB%85%B8%EB%B2%A8-%ED%94%8C%EB%9E%AB%ED%8F%BC/" class="">04 비주얼 노벨 플랫폼</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-d347cef9a59040356404c47ebd644ec3" class="toggle"  />
    <label for="section-d347cef9a59040356404c47ebd644ec3" class="flex justify-between">
      <a role="button" class="book-collapse-toggle ">1. It Os</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/1.-it_os/linux_storage/" class="">Linux Storage</a>
  

        </li>
      
    
      
    
      
        <li>
          
  
  

  
    <a href="/1.-it_os/linux_lvm/" class="">Linux Lvm</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/1.-it_os/linux_kvm/" class="">Linux Kvm</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/1.-it_os/linux_console/" class="">Linux Console</a>
  

        </li>
      
    
      
    
      
        <li>
          
  
  

  
    <a href="/1.-it_os/linux_ca/" class="">Linux Ca</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/1.-it_os/linux_certbot/" class="">Linux Certbot</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/1.-it_os/linux_keepalived/" class="">Linux Keepalived</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/1.-it_os/linux_ntp/" class="">Linux Ntp</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/1.-it_os/linux_openssl/" class="">Linux Open Ssl</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-483aaee2f493dd580f02a44b859234e7" class="toggle" checked />
    <label for="section-483aaee2f493dd580f02a44b859234e7" class="flex justify-between">
      <a href="/2.-it_cloud/" class="book-collapse-toggle ">2. It Cloud</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/2.-it_cloud/cloud/" class="">Cloud</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/2.-it_cloud/common_%EC%BB%A4%EB%84%90/" class="">Common 커널</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/2.-it_cloud/nca_01_server/" class="">Nca 01 Server</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/2.-it_cloud/nca_02_loadblancer/" class="">Nca 02 Load Blancer</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/2.-it_cloud/nca_03_dns--cdn/" class="">Nca 03 DNS &amp; Cdn</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/2.-it_cloud/nca_04_autoscaling/" class="">Nca 04 Auto Scaling</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/2.-it_cloud/nca_05_storage-/" class="">Nca 05 Storage</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/2.-it_cloud/ci__harbor/" class="active">Ci Harbor</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/2.-it_cloud/ci__jenkins/" class="">Ci Jenkins</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/2.-it_cloud/ci__ansible/" class="">Ci Ansible</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/2.-it_cloud/ci__mino/" class="">Ci Mino</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/2.-it_cloud/cicd---%EB%B0%B0%ED%8F%AC%EB%B0%A9%EB%B2%95/" class="">Cicd 배포방법</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/2.-it_cloud/nce_expert_%EC%9E%90%EA%B2%A9%EC%A6%9D-%EC%9A%94%EC%95%BD%EC%A0%95%EB%A6%AC/" class="">Nce Expert 자격증 요약정리</a>
  

        </li>
      
    
      
    
      
        <li>
          
  
  

  
    <a href="/2.-it_cloud/cd_argo/" class="">Cd Argo</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/2.-it_cloud/cd_istio/" class="">Cd Istio</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/2.-it_cloud/cd_k8s/" class="">Cd K8 S</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/2.-it_cloud/ci__docker/" class="">Ci Docker</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/2.-it_cloud/cicd_grafana/" class="">Cicd Grafana</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/2.-it_cloud/dns/" class="">DNS</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-8efbae336a9a295cd55ca1435e8b843d" class="toggle"  />
    <label for="section-8efbae336a9a295cd55ca1435e8b843d" class="flex justify-between">
      <a role="button" class="book-collapse-toggle ">3. It Front End</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <span class="book-menu-title">01 HTML</span>
  

          
  <ul>
    
      
    
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <span class="book-menu-title">02 Css</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/3.-it_frontend/02_css/01_css-style/" class="">01 Css Style</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/3.-it_frontend/02_css/css-/" class="">Css</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/3.-it_frontend/02_css/02_selector/" class="">02 Selector</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/3.-it_frontend/02_css/03_text-styling/" class="">03 Text Styling</a>
  

        </li>
      
    
      
    
      
        <li>
          
  
  

  
    <a href="/3.-it_frontend/02_css/05/" class="">5th</a>
  

        </li>
      
    
      
    
      
        <li>
          
  
  

  
    <a href="/3.-it_frontend/02_css/07_flex/" class="">07 Flex</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/3.-it_frontend/02_css/08_grid/" class="">08 Grid</a>
  

        </li>
      
    
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-286121c225d9b1104704ba479a12082b" class="toggle"  />
    <label for="section-286121c225d9b1104704ba479a12082b" class="flex justify-between">
      <a href="/3.-it_frontend/04_react/" class="book-collapse-toggle ">04 React</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/3.-it_frontend/04_react/01_install/" class="">01 Install</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/3.-it_frontend/04_react/02_react-%EA%B0%95%EC%9D%98/" class="">02 React 강의</a>
  

        </li>
      
    
      
    
      
    
      
        <li>
          
  
  

  
    <a href="/3.-it_frontend/04_react/0_redux-/" class="">0 Redux</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/3.-it_frontend/04_react/vite/" class="">Vite</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
    
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-f4a949638b8ac46ccbf35c07caaa38f6" class="toggle"  />
    <label for="section-f4a949638b8ac46ccbf35c07caaa38f6" class="flex justify-between">
      <a role="button" class="book-collapse-toggle ">피그마</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/3.-it_frontend/%ED%94%BC%EA%B7%B8%EB%A7%88/%ED%8C%8C%EA%B5%AC%EB%A8%B8/" class="">파구머</a>
  

        </li>
      
    
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-9ad64035945ec68c45ad4ec2306d404f" class="toggle"  />
    <label for="section-9ad64035945ec68c45ad4ec2306d404f" class="flex justify-between">
      <a role="button" class="book-collapse-toggle ">IT_BackEnd</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/4.-it_backend/java-mvc_eclipse/" class="">Java Mvc Eclipse</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/4.-it_backend/java-mvc_basic/" class="">Java Mvc Basic</a>
  

        </li>
      
    
      
    
      
    
      
        <li>
          
  
  

  
    <a href="/4.-it_backend/springboot_vs/" class="">Spring Boot Vs</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/4.-it_backend/springboot_basic/" class="">Spring Boot Basic</a>
  

        </li>
      
    
      
    
      
        <li>
          
  
  

  
    <a href="/4.-it_backend/springboot_error/" class="">Spring Boot Error</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/4.-it_backend/4.-it_backend/" class="">4. It Back End</a>
  

        </li>
      
    
      
    
      
    
      
        <li>
          
  
  

  
    <a href="/4.-it_backend/security/" class="">Security</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-74aaa0e283d8126a57b33abbc656794e" class="toggle"  />
    <label for="section-74aaa0e283d8126a57b33abbc656794e" class="flex justify-between">
      <a role="button" class="book-collapse-toggle ">5. It Language</a>
    </label>
  

          
  <ul>
    
      
    
      
        <li>
          
  
  

  
    <a href="/5.-it_language/c/" class="">C</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/5.-it_language/python/" class="">Python</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-c74807d3436868cd372637acd5af2dba" class="toggle"  />
    <label for="section-c74807d3436868cd372637acd5af2dba" class="flex justify-between">
      <a href="/6.-it_algorithm/" class="book-collapse-toggle ">6. It Algorithm</a>
    </label>
  

          
  <ul>
    
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-7c446a12005bc9ed30f6b7e91be8abb5" class="toggle"  />
    <label for="section-7c446a12005bc9ed30f6b7e91be8abb5" class="flex justify-between">
      <a href="/7.-it_network/" class="book-collapse-toggle ">7. It Network</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/7.-it_network/osi-7-layler/" class="">OSI 7 Layler</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/7.-it_network/virtual-netork/" class="">Vitual</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/7.-it_network/etc_vpn/" class="">etc_VPN</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/7.-it_network/etc_sdn/" class="">etc_SDN</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/7.-it_network/etc_nfvo/" class="">etc_NFVO</a>
  

        </li>
      
    
      
    
      
        <li>
          
  
  

  
    <a href="/7.-it_network/dnsdomain/" class="">Dns( Domain)</a>
  

        </li>
      
    
      
    
      
        <li>
          
  
  

  
    <a href="/7.-it_network/network/" class="">Network</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/7.-it_network/restful-api/" class="">Restful API</a>
  

        </li>
      
    
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-5b0e397d116c54175597466adaf7d85b" class="toggle"  />
    <label for="section-5b0e397d116c54175597466adaf7d85b" class="flex justify-between">
      <a role="button" class="book-collapse-toggle ">8. It</a>
    </label>
  

          
  <ul>
    
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-28c6883dc50af055b01aaaa577b2946b" class="toggle"  />
    <label for="section-28c6883dc50af055b01aaaa577b2946b" class="flex justify-between">
      <a role="button" class="book-collapse-toggle ">9. It Db</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/9.-it_db/mysql/" class="">Mysql</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/9.-it_db/mongodb/" class="">Mongodb</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/9.-it_db/%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4-%EB%AA%A8%EB%8D%B8%EB%A7%81/" class="">데이터베이스 모델링</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-9257fb28edd395bf6d345e93b47a5ae3" class="toggle"  />
    <label for="section-9257fb28edd395bf6d345e93b47a5ae3" class="flex justify-between">
      <a role="button" class="book-collapse-toggle ">Economy</a>
    </label>
  

          
  <ul>
    
      
    
      
        <li>
          
  
  

  
    <a href="/economy/%EA%B5%AD%EB%82%B4%EC%A6%9D%EA%B6%8C-%EC%9A%A9%EC%96%B4%EC%A0%95%EB%A6%AC/" class="">국내증권 용어정리</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-da812e6e78780d587f8a1b76a9c8709d" class="toggle"  />
    <label for="section-da812e6e78780d587f8a1b76a9c8709d" class="flex justify-between">
      <a role="button" class="book-collapse-toggle ">Reading</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-d5466df07314482f0084fc37e434754e" class="toggle"  />
    <label for="section-d5466df07314482f0084fc37e434754e" class="flex justify-between">
      <a role="button" class="book-collapse-toggle ">23년</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/reading/23%EB%85%84/23%EB%85%84-12%EC%9B%94/" class="">23년 12월</a>
  

        </li>
      
    
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-08a69fe9c18850d1568beb991168e1d6" class="toggle"  />
    <label for="section-08a69fe9c18850d1568beb991168e1d6" class="flex justify-between">
      <a role="button" class="book-collapse-toggle ">24년</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/reading/24%EB%85%84/24%EB%85%84-1%EC%9B%94-%EB%8F%85%EC%84%9C/" class="">24년 1월 독서</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/reading/24%EB%85%84/24%EB%85%84-2%EC%9B%94-%EB%8F%85%EC%84%9C/" class="">24년 2월 독서</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/reading/24%EB%85%84/24%EB%85%84-3%EC%9B%94-%EB%8F%85%EC%84%9C/" class="">24년 3월 독서</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/reading/24%EB%85%84/24%EB%85%84-4%EC%9B%94-%EB%8F%85%EC%84%9C/" class="">24년 4월 독서</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/reading/24%EB%85%84/24%EB%85%84-5%EC%9B%94-%EB%8F%85%EC%84%9C/" class="">24년 5월 독서</a>
  

        </li>
      
    
      
    
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-789b2fd35de1b3ffa108c4cc388583a2" class="toggle"  />
    <label for="section-789b2fd35de1b3ffa108c4cc388583a2" class="flex justify-between">
      <a role="button" class="book-collapse-toggle ">Writer</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/writer/%EA%BF%88%EC%86%8D%EC%9D%98-%EC%B2%9C%EC%9E%AC%EC%86%8C%EB%85%84/" class="">꿈속의 천재소년</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/writer/%EC%8B%AC%EC%9E%A5%EA%B3%BC-%ED%94%BC%EB%A1%9C/" class="">심장과 피로</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/writer/%EB%82%B4%EB%A9%B4%EA%B3%BC-%EC%95%84%EC%9D%B4%EB%94%94%EC%96%B4/" class="">내면과 아이디어</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/writer/%EC%82%AC%EB%9E%8C%EC%9D%98-%EB%B3%B8%EC%84%B1/" class="">사람의 본성</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/writer/%EA%B0%80%EC%B9%98%EB%B6%80%EC%97%AC/" class="">가치부여</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/writer/%EC%A3%BD%EC%9D%8C%EA%B3%BC-%EC%B9%B4%EB%A5%B4%EB%A7%88/" class="">죽음과 카르마</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/writer/%EA%B2%BD%EC%9F%81%EC%82%AC%ED%9A%8C/" class="">경쟁사회</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/writer/%EC%97%B4%EB%93%B1%EA%B0%90%EC%9D%84-%EC%97%86%EC%95%A0%EB%8A%94-%EB%B2%95/" class="">열등감을 없애는 법</a>
  

        </li>
      
    
      
    
      
        <li>
          
  
  

  
    <a href="/writer/%EA%B1%B7%EA%B8%B0%EC%99%80-%EC%9E%90%EA%B8%B0%EC%95%94%EC%8B%9C/" class="">걷기와 자기암시</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/writer/%EA%B3%A0%ED%86%B5%EC%9D%98-%EA%B0%80%EC%B9%98/" class="">고통의 가치</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/writer/%EB%B9%84%EA%B5%90%EB%AC%B8%ED%99%94/" class="">비교문화</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/writer/%EC%83%9D%EA%B0%81%EC%9D%98-%EC%A0%84%ED%99%98/" class="">생각의 전환</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/writer/%EC%89%AC%EC%9A%B4-%ED%95%B4%EA%B3%A0%EC%99%80-%EA%B3%A0%EC%9A%A9/" class="">쉬운 해고와 고용</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-94dd41dc24dfa6ebd4cf9769eb70a21b" class="toggle"  />
    <label for="section-94dd41dc24dfa6ebd4cf9769eb70a21b" class="flex justify-between">
      <a role="button" class="book-collapse-toggle ">Blog Install Guide</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/blogguide/01-install-guide/" class="">01) Install Guide</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/blogguide/03-obsidian-guide/" class="">03) Obsidian Guide</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/blogguide/04-mermaid/" class="">04) Mermaid</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/blogguide/05-hugo/" class="">05) Hugo</a>
  

        </li>
      
    
      
    
  </ul>

        </li>
      
    
      
    
      
        <li>
          
  
  

  
    <span class="book-menu-title">About Mes</span>
  

          
  <ul>
    
      
    
      
        <li>
          
  
  

  
    <a href="/about-me/%EC%9E%90%EA%B2%A9%EC%A6%9D/" class="">자격증</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>















</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>
    <div class="book-page container">
      

      
      
  <article class="markdown">
    <h1 class="title">Ci Harbor</h1>
    






  
  









  
  
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  

    
    
    
    
    
    

    
    
    
    
    
    
    
    

    
    
    
    
    
      
      
    
    
    
      
      
      
      
      
      
      
    
    

    
    
      
      
      
      
      
      
        
        
        
      
    
    

  

  
  
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  

    
    
    
    
    
    

    
    
    
    
    
    
    
    

    
    
    
    
    
      
      
    
    
    
      
      
      
      
      
      
      
    
    

    
    
      
      
      
      
      
      
        
        
        
      
    
    

  

  
  
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  

    
    
    
    
    
    

    
    
    
    
    
    
    
    

    
    
    
    
    
      
      
    
    
    
      
      
      
      
      
      
      
    
    

    
    
      
      
      
      
      
      
        
        
        
      
    
    

  

  
  
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  

    
    
    
    
    
    

    
    
    
    
    
    
    
    

    
    
    
    
    
      
      
    
    
    
      
      
      
      
      
      
      
    
    

    
    
      
      
      
      
      
      
        
        
        
      
    
    

  







  
  
  
  
  
  
  
  
  
  






<h1 id="harbor">
  Harbor
  <a class="anchor" href="#harbor">#</a>
</h1>
<ul>
<li>Docker Image Registry</li>
</ul>
<h2 id="01__--outline">
  01__  Outline
  <a class="anchor" href="#01__--outline">#</a>
</h2>
<p>Harbor와 관련된 주요 기능은 다음과 같습니다.</p>
<ul>
<li><strong>Helm 차트 관리</strong>: 프로젝트별로 격리되고 RBAC에 의해 제어되는 Helm 차트를 관리하는 데 도움이 됩니다.</li>
<li><strong>LDAP 그룹별 역할 관리</strong>: 관리자는 LDAP/AD 그룹을 Harbor로 가져와 프로젝트 역할을 할당할 수 있습니다.</li>
<li><strong>프로젝트 복제</strong>: 이미지 복제를 지원합니다. 하나의 Harbor 인스턴스에서 다른 Harbor 인스턴스로 저장소를 복제할 수 있습니다.</li>
<li><strong>역할 기반 액세스 제어</strong>: 사용자와 저장소는 프로젝트로 구성됩니다. 사용자는 다양한 프로젝트의 이미지에 대해 다양한 권한을 가질 수 있습니다.</li>
<li><strong>취약점 검사</strong>: **<em>Clair</em>**를 사용하여 이미지를 정기적으로 검사하고 사용자에게 모든 취약점을 경고합니다.</li>
<li><strong>감사</strong>: 저장소에 대한 모든 작업이 추적됩니다.</li>
<li><strong>RESTful API:</strong> 대부분의 관리 작업을 위한 RESTful API가 있으며 외부 시스템과 쉽게 통합됩니다.</li>
<li><strong>그래픽 사용자 포털</strong>: 사용자가 쉽게 저장소를 찾아보고 검색하고 프로젝트를 관리할 수 있는 곳입니다.</li>
</ul>
<h2 id="ubuntu-22042004에-harbor-이미지-레지스트리-설치">
  Ubuntu 22.04|20.04에 Harbor 이미지 레지스트리 설치
  <a class="anchor" href="#ubuntu-22042004%ec%97%90-harbor-%ec%9d%b4%eb%af%b8%ec%a7%80-%eb%a0%88%ec%a7%80%ec%8a%a4%ed%8a%b8%eb%a6%ac-%ec%84%a4%ec%b9%98">#</a>
</h2>
<p>이 가이드에서는 Ubuntu 22.04|20.04에 Harbor Container Image Registry를 설치하는 방법을 자세히 살펴보겠습니다.</p>
<p>Harbor는 다음을 포함하는 8개의 구성 요소로 구성됩니다.</p>
<ul>
<li><strong>Redis</strong>: 로그인 정보를 저장하는 데 사용되는 메모리 내 데이터베이스입니다.</li>
<li><strong>PostgreSQL</strong>: Harbor에서 사용하는 데이터베이스입니다.</li>
<li><strong>Beego</strong>: Harbor 웹 서비스가 구축되고 개발되는 오픈 소스 웹 앱 프레임워크입니다.</li>
<li><strong>Chartmuseum</strong>: Helm 차트를 관리하는 데 사용됩니다.</li>
<li><strong>Docker</strong>: Docker 이미지를 푸시하고 가져오는 데 사용됩니다.</li>
<li><strong>Helm</strong>: Helm 차트 관리용</li>
<li><strong>Swagger-ui</strong>: RESTful API를 호출하고 테스트하는 데 사용됩니다.</li>
</ul>
<p>서버를 업데이트하고 필요한 패키지를 설치하는 것부터 시작하세요.</p>
<h2 id="02__installubuntu">
  02__Install(ubuntu)
  <a class="anchor" href="#02__installubuntu">#</a>
</h2>
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>sudo apt update &amp;&amp; sudo apt -y full-upgrade</td>
</tr>
<tr>
<td>sudo apt install apt-transport-https ca-certificates curl software-properties-common vim git</td>
</tr>
<tr>
<td>[ -f /var/run/reboot-required ] &amp;&amp; sudo reboot -f</td>
</tr>
<tr>
<td>sudo apt -y install 
<a href="http://docker.io/" rel="noopener">docker.io</a></td>
</tr>
<tr>
<td>sudo systemctl start docker &amp;&amp; sudo systemctl enable docker</td>
</tr>
<tr>
<td>sudo usermod -aG docker $USER</td>
</tr>
<tr>
<td>newgrp docker</td>
</tr>
<tr>
<td>docker version</td>
</tr>
<tr>
<td>curl -s 
<a href="https://api.github.com/repos/docker/compose/releases/latest" rel="noopener">https://api.github.com/repos/docker/compose/releases/latest</a>|grep browser_download_url|grep docker-compose-linux-x86_64 | cut -d &lsquo;&quot;&rsquo; -f 4|wget -qi -  <!-- raw HTML omitted -->chmod +x docker-compose-linux-x86_64  <!-- raw HTML omitted -->sudo mv docker-compose-linux-x86_64 /usr/local/bin/docker-compose  <!-- raw HTML omitted -->rm docker-compose-linux-x86_64.sha256</td>
</tr>
<tr>
<td>docker compose version</td>
</tr>
<tr>
<td>curl -s 
<a href="https://api.github.com/repos/goharbor/harbor/releases/latest" rel="noopener">https://api.github.com/repos/goharbor/harbor/releases/latest</a> | grep browser_download_url | cut -d &lsquo;&quot;&rsquo; -f 4 | grep &lsquo;.tgz$&rsquo; | wget -i -</td>
</tr>
<tr>
<td>tar zxvf harbor-offline-installer-v*.tgz</td>
</tr>
<tr>
<td>cd harbor</td>
</tr>
<tr>
<td></td>
</tr>
<tr>
<td></td>
</tr>
<tr>
<td></td>
</tr>
<tr>
<td><img src="/assets/Pasted image 20240126173121.png" width="auto" /></td>
</tr>
</tbody>
</table>
<p><img src="/assets/Pasted image 20240126165108.png" width="auto" /></p>
<h2 id="03__https-setting">
  03__HTTPS setting
  <a class="anchor" href="#03__https-setting">#</a>
</h2>
<h3 id="자체-서명된-인증서-적용-단계">
  자체 서명된 인증서 적용 단계
  <a class="anchor" href="#%ec%9e%90%ec%b2%b4-%ec%84%9c%eb%aa%85%eb%90%9c-%ec%9d%b8%ec%a6%9d%ec%84%9c-%ec%a0%81%ec%9a%a9-%eb%8b%a8%ea%b3%84">#</a>
</h3>
<ol>
<li>
<p><strong>인증서 생성</strong>: 제공된 명령어를 사용하여 자체 서명된 인증서와 개인 키를 생성합니다. 이때, <code>openssl</code> 명령어의 <code>-subj</code> 옵션을 사용해 인증서 정보(CN=Common Name 등)를 명령어 라인에서 직접 입력할 수 있습니다. 예를 들어, 로컬 환경에서 사용할 경우 CN은 로컬 IP 주소나 로컬 호스트 이름을 사용할 수 있습니다.</p>
<p>bashCopy code</p>
<p><code>openssl req -x509 -nodes -days 365 -newkey rsa:2048 -keyout harbor.key -out harbor.crt -subj &quot;/CN=192.168.0.100&quot;</code></p>
<p>여기서 <code>192.168.0.100</code>은 Harbor가 설치된 서버의 IP 주소입니다. 실제 사용하는 IP 주소나 호스트 이름으로 변경해 주세요.</p>
</li>
<li>
<p><strong>Harbor 설정</strong>: Harbor의 <code>harbor.yml</code> 설정 파일에서 HTTPS 관련 설정 부분을 찾아서 인증서(<code>harbor.crt</code>)와 키(<code>harbor.key</code>) 파일의 경로를 지정합니다.</p>
</li>
<li>
<p><strong>Harbor 재구성</strong>: 변경된 설정을 적용하기 위해 Harbor를 재구성합니다. Harbor 설치 디렉토리에서 다음 명령을 실행합니다.</p>
<p>bashCopy code</p>
<p><code>sudo ./prepare sudo docker-compose down sudo docker-compose up -d</code></p>
</li>
</ol>
<h3 id="주의사항">
  주의사항
  <a class="anchor" href="#%ec%a3%bc%ec%9d%98%ec%82%ac%ed%95%ad">#</a>
</h3>
<ul>
<li>자체 서명된 인증서를 사용할 경우, 브라우저나 다른 클라이언트에서 보안 경고를 받게 됩니다. 신뢰할 수 있는 CA에서 발급받은 인증서가 아니기 때문입니다. 개발이나 내부 사용의 경우, 클라이언트나 브라우저에 인증서를 수동으로 신뢰하도록 설정할 수 있습니다.</li>
<li>도메인 구입 없이 로컬 IP 주소로 Harbor를 운영하고 접근하는 것은 가능합니다. 하지만, 외부에서 접근할 필요가 있거나, 인증서 경고 없이 보다 안전하게 서비스를 운영하고자 한다면, 실제 도메인을 구입하고 공인 인증 기관에서 발급받은 인증서를 사용하는 것이 좋습니다.</li>
</ul>
<p>자체 서명된 인증서는 특정 사용 사례에서 유용할 수 있지만, 사용 시 발생할 수 있는 제한사항과 보안 경고를 이해하는 것이 중요합니다.</p>
<h2 id="04__error">
  04__ERROR
  <a class="anchor" href="#04__error">#</a>
</h2>
<ul>
<li>Harbor 접속이 안 되는 상황이 발생
<img src="/assets/Pasted image 20240128213452.png" width="auto" /></li>
<li>1차로 Yaml 파일 수정
<ul>
<li>하지만 yaml 파일 문제 없음을 재차 확인</li>
</ul>
</li>
<li>2차로 curl 명령어로 확인
<ul>
<li>컨테이너에서 응답을 해주지 못하는 것으로 추정</li>
<li></li>
</ul>
</li>
</ul>
<p><img src="/assets/Pasted image 20240128213545.png" width="auto" /></p>
<ul>
<li>3차로 컨테이너 Nginx log 결과
<ul>
<li>redis와 연결이 안됨을 확인</li>
</ul>
</li>
<li>4차로 컨테이너 Redis 확인 결과
<ul>
<li>Ram 부족으로 확인</li>
</ul>
</li>
<li>결론 : VMware로 ram 할당이 너무 낮아서 생기는 문제였음.</li>
</ul>
<h2 id="05__ca-error">
  05__CA ERROR
  <a class="anchor" href="#05__ca-error">#</a>
</h2>
<ol>
<li>CA 인증서 개인 키 생성</li>
</ol>
<pre tabindex="0"><code>openssl genrsa -out ca.key 4096
</code></pre><ol start="2">
<li>CA 인증서를 생성</li>
</ol>
<pre tabindex="0"><code>openssl req -x509 -new -nodes -sha512 -days 3650 -subj &#34;/CN=192.168.77.63&#34; -key ca.key -out ca.crt
</code></pre><ol start="3">
<li>서버 인증서 서명 요청을 생성</li>
</ol>
<pre tabindex="0"><code>openssl genrsa -out 192.168.77.63.key 4096
openssl req -sha512 -new -subj &#34;/CN=192.168.77.63&#34; -key 192.168.77.63.key -out 192.168.77.63.csr
</code></pre><ol start="4">
<li>x509 v3 확장자 파일 생성</li>
</ol>
<pre tabindex="0"><code>vi v3.ext

authorityKeyIdentifier=keyid,issuer
basicConstraints=CA:FALSE
keyUsage = digitalSignature, nonRepudiation, keyEncipherment, dataEncipherment
extendedKeyUsage = serverAuth
subjectAltName = @alt_names

[alt_names]
IP.1=192.168.77.63 
IP.2=127.0.0.1
</code></pre><ol start="5">
<li>v3.ext 파일을 사용하여 Harbor 호스트에 대한 인증서 생성</li>
</ol>
<pre tabindex="0"><code>openssl x509 -req -sha512 -days 3650 -extfile v3.ext -CA ca.crt -CAkey ca.key -CAcreateserial -in 192.168.77.63.csr -out 192.168.77.63.crt
Certificate request self-signature ok
subject=CN = 192.168.77.63
</code></pre><ol start="6">
<li>Harbor 및 Docker에 인증서 제공</li>
</ol>
<pre tabindex="0"><code>cp 192.168.77.63.crt /data/cert
cp 192.168.77.63.key /data/cert
systemctl restart docker
</code></pre><ol start="7">
<li>도커용 cert 파일 변환</li>
</ol>
<pre tabindex="0"><code>openssl x509 -inform PEM -in 192.168.77.63.crt -out 192.168.77.63.cert
</code></pre><ol start="8">
<li>Docker 인증서 폴더로 복사 (host  -&gt; docker)</li>
</ol>
<pre tabindex="0"><code>cp 192.168.77.63.cert /etc/docker/certs.d/192.168.77.63/
cp 192.168.77.63.key /etc/docker/certs.d/192.168.77.63/
cp ca.crt /etc/docker/certs.d/192.168.77.63/
systemctl restart docker
</code></pre><ol start="9">
<li>쿠버네티스  인증(모든 노드 일괄 적용)</li>
</ol>
<pre tabindex="0"><code>mkdir /root/certs
scp * root@node1:/root/certs
</code></pre><ol start="10">
<li>containerd 환경설정</li>
</ol>
<pre tabindex="0"><code>​[plugins.&#34;io.containerd.grpc.v1.cri&#34;.registry]
   # config_path 해도 된다고 해서 일단 추가했다가 필요없어서 주석처리
160 #      config_path = &#34;/etc/containerd/certs.d:/etc/docker/certs.d&#34;
161        config_path = &#34;&#34;
162       [plugins.&#34;io.containerd.grpc.v1.cri&#34;.registry.auths]
163 
164       [plugins.&#34;io.containerd.grpc.v1.cri&#34;.registry.configs]
165         [plugins.&#34;io.containerd.grpc.v1.cri&#34;.registry.configs.&#34;invako.com&#34;.auth]
166          username = &#34;admin&#34;
167          password = &#34;Harbor12345&#34;
168         


[plugins.&#34;io.containerd.grpc.v1.cri&#34;.registry.configs.&#34;invako.com&#34;.tls]
169  #        insecure_skip_verify = true
          ca_file = &#34;/root/certs/ca.crt&#34; 
         cert_file = &#34;/root/certs/192.168.77.63.cert&#34;
          key_file = &#34;/root/certs/192.168.77.63.key&#34;

	  
173       [plugins.&#34;io.containerd.grpc.v1.cri&#34;.registry.headers]
174 
175       [plugins.&#34;io.containerd.grpc.v1.cri&#34;.registry.mirrors]
176         [plugins.&#34;io.containerd.grpc.v1.cri&#34;.registry.mirrors.&#34;docker.io&#34;]
177           endpoint = [&#34;https://registry-1.docker.io&#34;]
178         [plugins.&#34;io.containerd.grpc.v1.cri&#34;.registry.mirrors.&#34;invako.com&#34;]
179           endpoint = [&#34;https://invako.com&#34;]

systemctl restart containerd
</code></pre><ol start="10">
<li>crictl 인증서 적용</li>
</ol>
<pre tabindex="0"><code>crictl version

vi/etc/crictl.yaml 작성

------
vi /etc/crictl.yaml
runtime-endpoint: unix:///var/run/containerd/containerd.sock
image-endpoint: unix:///var/run/containerd/containerd.sock
timeout: 2
debug: false
pull-image-on-create: false

-----

systemctl restart containerd
</code></pre><ol start="11">
<li>인증서 복사 (harbor -&gt; 쿠버네티스 모든 노드)</li>
</ol>
<pre tabindex="0"><code> cp * /etc/pki/ca-trust/source/anchors/
 sudo update-ca-trust extract
</code></pre>

    

<hr/>


<div class="page-end" id="footer">
    <div class="backlinks-container">
        <h3>Backlinks</h3>
<ul class="backlinks">
    
    
    
    
    
    
    
    <li>
      No backlinks found
    </li>
    
</ul>

    </div>
    <div>
        <script
  src="https://cdn.jsdelivr.net/npm/d3@6.7.0/dist/d3.min.js"
  integrity="sha256-+7jaYCp29O1JusNWHaYtgUn6EhuP0VaFuswhNV06MyI="
  crossorigin="anonymous"
></script>
<h3>Interactive Graph</h3>
<div id="graph-container"></div>
<style>
  :root {
    --g-node: var(--secondary);
    --g-node-active: var(--primary);
    --g-node-inactive: var(--visited);
    --g-link: var(--outlinegray);
    --g-link-active: #5a7282;
  }
</style>

<script src="https://yhb131618.github.io/quartz/js/graph.cbd78cfa87df7d3e230d16fc24f06548.js"></script>

    </div>
</div>






<div id="contact_buttons">
    <footer>
        
        
        <p>Made with <a href="https://github.com/64bitpandas/amethyst">Amethyst</a>, © 2024 Yang HongBin</p>
        <ul>
            
            <li><a href="https://yhb131618.github.io/">Home</a></li>
            <li><a href="http://www.springboot-yhb-portfolio.store/">Website</a></li><li><a href="https://yhb131618.github.io/">Blog</a></li></ul>
    </footer>
</div>


    
  </article>
 
      
      
      
      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#01__--outline">01__  Outline</a></li>
    <li><a href="#ubuntu-22042004에-harbor-이미지-레지스트리-설치">Ubuntu 22.04|20.04에 Harbor 이미지 레지스트리 설치</a></li>
    <li><a href="#02__installubuntu">02__Install(ubuntu)</a></li>
    <li><a href="#03__https-setting">03__HTTPS setting</a>
      <ul>
        <li><a href="#자체-서명된-인증서-적용-단계">자체 서명된 인증서 적용 단계</a></li>
        <li><a href="#주의사항">주의사항</a></li>
      </ul>
    </li>
    <li><a href="#04__error">04__ERROR</a></li>
    <li><a href="#05__ca-error">05__CA ERROR</a></li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












